node ('arma') {
  stage('Checkout from Git') {
    checkout scm
  }

  stage('Download latest SFP Objects') {
    bat 'gradlew sfp_objects:downloadMod'
  }

  stage('Download latest SFP Roso') {
    bat 'gradlew sfp_roso:downloadMod'
  }

  stage('Run autotest') {
    bat 'gradlew sfp_roso:runAutotest'
  }

  stage('Copy Log File') {
    bat 'gradlew sfp_roso:copyLogFile'
  }

  stage('Archive Log File') {
    archiveArtifacts artifacts: 'sfp_roso/logs/*.rpt'
  }
}
